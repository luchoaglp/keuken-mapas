<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Demo Leaflets</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
  integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
  crossorigin=""/>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="css/mdb.min.css" rel="stylesheet">
    <style>
        #map {
            height: 500px;
        }
    </style>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark primary-color mb-2">
      <a class="navbar-brand" href="#">Demo Leaflet</a>
  </nav>

  <div class="container-fluid">

    <div class="row mb-5">
      <div class="col-md-12">
        <div class="card">
          <div class="card-body">
            <div id="map"></div>
          </div>
        </div>
      </div>
      
  </div>

<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="js/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="js/mdb.min.js"></script>
<script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
  integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
  crossorigin=""></script>
<script src="js/moment.min.js"></script>

<script>
$(function() {

  let zoom = 15;

  let index = 0;

  let trackingRoute = [{lat:-34.92263959939668,lon:-57.95352458953858},{lat:-34.922463662231884,lon:-57.95335292816163},{lat:-34.922463662231884,lon:-57.953181266784675},{lat:-34.922604411993895,lon:-57.9530954360962},{lat:-34.92274516151449,lon:-57.95288085937501},{lat:-34.9228859107937,lon:-57.952709197998054},{lat:-34.92309703425986,lon:-57.952451705932624},{lat:-34.923343344283865,lon:-57.95206546783447},{lat:-34.92348409253708,lon:-57.95180797576905},{lat:-34.92369521446426,lon:-57.95155048370362},{lat:-34.923906335848265,lon:-57.95129299163819},{lat:-34.924152643443094,lon:-57.950906753540046},{lat:-34.924363763650206,lon:-57.9505205154419},{lat:-34.92468044294244,lon:-57.9503059387207},{lat:-34.92482118890224,lon:-57.95000553131104},{lat:-34.9249971210125,lon:-57.94953346252442},{lat:-34.92527861160434,lon:-57.94936180114747},{lat:-34.925489728914506,lon:-57.94901847839356},{lat:-34.92573603175649,lon:-57.94876098632813},{lat:-34.92608789167682,lon:-57.948417663574226},{lat:-34.92640456431503,lon:-57.948417663574226},{lat:-34.92661567872818,lon:-57.948417663574226},{lat:-34.926791606990875,lon:-57.948417663574226},{lat:-34.92710827691313,lon:-57.948460578918464},{lat:-34.92724901870849,lon:-57.948718070983894}];

  const map = L.map('map').setView([-34.92136404640606, -57.95459747314454], zoom);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors' }).addTo(map);

  const icon = L.icon({
    iconUrl: './img/redMarker.svg',
    iconAnchor: [18, 35]
  });

  L.marker([-34.922604411993895, -57.95373916625977], { icon }).addTo(map);
  L.marker([-34.92707309142656, -57.94876098632813], { icon }).addTo(map);

  let circle = L.circle([-34.92270997415698, -57.95361042022706], { radius: 25 }).addTo(map);

  const intervalId = setInterval(tracking, 1000);

  function tracking() {
    const latLon = trackingRoute[index++];
    circle.setLatLng([latLon.lat, latLon.lon]);
    if(index > trackingRoute.length - 1) {
      clearInterval(intervalId);
    }
  }
  
});
</script>
</body>
</html>